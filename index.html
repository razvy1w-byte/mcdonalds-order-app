<!doctype html>
<html lang="ro">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>McDelivery Mockup</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    body { 
      background: #f1f5f9; 
      margin: 0; 
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      /* EliminÄƒ scroll-ul din body */
      overflow: hidden;
      height: 100vh;
    }
    #root {
      width: 100%;
      height: 100vh;
    }
    /* Scroll personalizat pentru a arÄƒta mai bine pe mobile */
    .custom-scroll::-webkit-scrollbar {
      width: 4px;
    }
    .custom-scroll::-webkit-scrollbar-track {
      background: #f1f5f9;
    }
    .custom-scroll::-webkit-scrollbar-thumb {
      background: #cbd5e1;
      border-radius: 2px;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    function FoodieOrderPreview() {
      const [tip, setTip] = useState(0);
      const [notesOpen, setNotesOpen] = useState(false);
      const [orderNotes, setOrderNotes] = useState("");
      const [address, setAddress] = useState("21 Spring St, Apt 4B, New York, NY 10012");

      const items = [
        { 
          id: 1, 
          name: "Big Mac", 
          qty: 2, 
          price: 5.99, 
          image: "./images/big-mac.png" 
        },
        { 
          id: 2, 
          name: "Quarter Pounder with Cheese", 
          qty: 1, 
          price: 6.79, 
          image: "./images/quarter-pounder.png" 
        },
        { 
          id: 3, 
          name: "Large Fries", 
          qty: 2, 
          price: 3.49, 
          image: "./images/fries.png" 
        },
        { 
          id: 4, 
          name: "10pc Chicken McNuggets", 
          qty: 1, 
          price: 4.99, 
          image: "./images/nuggets.png" 
        },
        { 
          id: 5, 
          name: "Coke (Large)", 
          qty: 3, 
          price: 1.99, 
          image: "./images/coke.png" 
        },
        { 
          id: 6, 
          name: "Apple Pie", 
          qty: 2, 
          price: 1.59, 
          image: "./images/apple-pie.jpg" 
        },
      ];

      const itemsTotal = items.reduce((s, it) => s + it.price * it.qty, 0);
      const subtotal = +itemsTotal.toFixed(2);
      const discount = +(-(subtotal - 5.0)).toFixed(2); 
      const deliveryFee = 0.00;
      const tax = 0.00;
      const tipAmount = +tip.toFixed(2);
      const total = +(subtotal + discount + deliveryFee + tax + tipAmount).toFixed(2);

      return (
        <div className="w-full h-full max-w-[500px] mx-auto bg-white flex flex-col">
          {/* Header - fixed */}
          <div className="p-4 bg-white border-b border-slate-200 flex-shrink-0">
            <div className="flex items-center justify-between">
              <div className="flex items-center gap-3">
                <img
                  src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/McDonald%27s_Golden_Arches.svg/2339px-McDonald%27s_Golden_Arches.svg.png"
                  alt="McDonald's"
                  className="w-10 h-10 object-contain"
                />
                <div>
                  <div className="text-sm text-slate-500">Restaurant</div>
                  <div className="text-base font-semibold">McDonald's â€¢ 25â€“35 min</div>
                </div>
              </div>
              <div className="text-sm text-slate-500">ðŸ•’ 12:02</div>
            </div>
          </div>

          {/* Content - singurul container care se scroll-eazÄƒ */}
          <div className="flex-1 overflow-auto custom-scroll">
            <div className="p-4 space-y-4">
              {/* Delivery Address */}
              <div className="bg-slate-50 p-4 rounded-xl border border-slate-200">
                <div className="flex items-start justify-between">
                  <div className="flex-1">
                    <div className="text-sm text-slate-500">Deliver to</div>
                    <div className="text-base font-semibold">{address}</div>
                    <div className="text-sm text-slate-500 mt-1">Leave at door â€¢ Apt 4B</div>
                  </div>
                  <button
                    className="text-red-600 text-base font-medium ml-4"
                    onClick={() => {
                      const newAddress = prompt("Enter an address (e.g.: 456 New St, New York, NY)", address);
                      if (newAddress) setAddress(newAddress);
                    }}
                  >
                    Change
                  </button>
                </div>
              </div>

              {/* Order Items */}
              <div className="bg-white p-4 rounded-xl border border-slate-200">
                <div className="flex items-center justify-between mb-4">
                  <div className="text-base font-semibold">Order Details</div>
                  <div className="text-sm text-slate-500">{items.length} items</div>
                </div>

                <div className="space-y-4">
                  {items.map((it) => (
                    <div key={it.id} className="flex items-start gap-4">
                      <img
                        src={it.image}
                        alt={it.name}
                        className="w-14 h-14 rounded-lg object-cover flex-shrink-0"
                      />
                      <div className="flex-1 min-w-0">
                        <div className="flex items-center justify-between">
                          <div className="font-medium text-base truncate">{it.name} <span className="text-slate-500">x{it.qty}</span></div>
                          <div className="font-semibold text-base ml-2">${(it.price * it.qty).toFixed(2)}</div>
                        </div>
                      </div>
                    </div>
                  ))}
                </div>

                <div className="mt-4 border-t border-slate-200 pt-4 text-sm text-slate-500">
                  Have a promo code? Add it at checkout.
                </div>
              </div>

              {/* Delivery Instructions */}
              <div className="bg-white p-4 rounded-xl border border-slate-200">
                <div className="flex items-center justify-between">
                  <div>
                    <div className="text-base font-semibold">Delivery Instructions</div>
                    <div className="text-sm text-slate-500">e.g. Meet at lobby</div>
                  </div>
                  <button className="text-base text-red-600 font-medium" onClick={() => setNotesOpen(true)}>
                    Add
                  </button>
                </div>
                {notesOpen && (
                  <div className="mt-4">
                    <textarea
                      value={orderNotes}
                      onChange={(e) => setOrderNotes(e.target.value)}
                      placeholder="Instructions for the driver..."
                      className="w-full border border-slate-300 rounded-xl p-3 text-base"
                      rows="3"
                    />
                    <div className="flex justify-end mt-3">
                      <button 
                        className="px-4 py-2 rounded-xl bg-red-600 text-white text-base font-medium"
                        onClick={() => setNotesOpen(false)}
                      >
                        Save
                      </button>
                    </div>
                  </div>
                )}
                {orderNotes && !notesOpen && (
                  <div className="mt-3 text-sm text-slate-600 bg-slate-50 p-3 rounded-lg">
                    "{orderNotes}"
                  </div>
                )}
              </div>

              {/* Cost Breakdown */}
              <div className="bg-white p-4 rounded-xl border border-slate-200 space-y-3">
                <div className="flex items-center justify-between text-base">
                  <div>Subtotal</div>
                  <div className="font-medium">${subtotal.toFixed(2)}</div>
                </div>

                <div className="flex items-center justify-between text-base">
                  <div className="font-semibold text-red-600">Discount</div>
                  <div className="font-medium text-red-600">${discount.toFixed(2)}</div>
                </div>

                <div className="flex items-center justify-between text-base">
                  <div>Delivery fee</div>
                  <div>${deliveryFee.toFixed(2)}</div>
                </div>

                <div className="flex items-center justify-between text-base">
                  <div>Tax</div>
                  <div>${tax.toFixed(2)}</div>
                </div>

                <div>
                  <div className="text-base font-semibold mb-3">Tip</div>
                  <div className="flex items-center gap-2 flex-wrap">
                    {[0,1,2,3,5].map((val) => (
                      <button
                        key={val}
                        onClick={() => setTip(val)}
                        className={`px-4 py-2 rounded-full text-base border-2 ${
                          tip === val 
                            ? 'bg-red-600 text-white border-red-600' 
                            : 'text-slate-700 border-slate-300'
                        }`}
                      >
                        ${val}
                      </button>
                    ))}
                    <div className="flex-1 min-w-[120px]">
                      <div className="text-sm text-slate-500">Custom:</div>
                      <input 
                        type="number" 
                        value={tip} 
                        onChange={(e) => setTip(Number(e.target.value))} 
                        className="w-full p-2 text-base border border-slate-300 rounded-lg mt-1"
                      />
                    </div>
                  </div>
                </div>
              </div>

              {/* Payment */}
              <div className="bg-white p-4 rounded-xl border border-slate-200">
                <div className="flex items-center justify-between">
                  <div>
                    <div className="text-base font-semibold">Payment</div>
                    <div className="text-sm text-slate-500">Card â€¢ VISA â€¢ **** 4242</div>
                  </div>
                  <button className="text-base text-red-600 font-medium">Change</button>
                </div>
              </div>

              {/* SpaÈ›iu pentru footer-ul fixed */}
              <div className="h-24"></div>
            </div>
          </div>

          {/* Footer - fixed bottom */}
          <div className="bg-white p-4 border-t border-slate-200 flex-shrink-0">
            <div className="flex items-center justify-between mb-3">
              <div>
                <div className="text-sm text-slate-500">Estimated total</div>
                <div className="text-xl font-bold">${total.toFixed(2)}</div>
              </div>
              <div className="flex flex-col items-end">
                <button
                  className="bg-red-600 text-white px-6 py-3 rounded-xl font-semibold text-base shadow-lg active:bg-red-700"
                  onClick={() => alert('Order placed (simulation) â€” not real)')}
                >
                  Place order
                </button>
                <div className="text-xs text-slate-500 mt-2">Payment: Card â€¢ Delivery</div>
              </div>
            </div>
            <div className="text-sm text-slate-500">Estimated delivery: 25â€“35 min â€¢ McDonald's</div>
          </div>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<FoodieOrderPreview />);
  </script>
</body>
</html>